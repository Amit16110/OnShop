[{"/home/amit/OnShop/client/src/index.js":"1","/home/amit/OnShop/client/src/App.js":"2","/home/amit/OnShop/client/src/reportWebVitals.js":"3","/home/amit/OnShop/client/src/Components/Auth/Login.js":"4","/home/amit/OnShop/client/src/Components/Auth/Register.js":"5","/home/amit/OnShop/client/src/Components/Home/Home.js":"6","/home/amit/OnShop/client/src/Components/Header/Header.js":"7","/home/amit/OnShop/client/src/firebase.js":"8","/home/amit/OnShop/client/src/Components/Auth/RegisterComplete.js":"9","/home/amit/OnShop/client/src/reducers/index.js":"10","/home/amit/OnShop/client/src/reducers/userReducer.js":"11"},{"size":919,"mtime":1610777024226,"results":"12","hashOfConfig":"13"},{"size":1550,"mtime":1611050639874,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1609737487862,"results":"15","hashOfConfig":"13"},{"size":3069,"mtime":1611049936775,"results":"16","hashOfConfig":"13"},{"size":1324,"mtime":1610955446631,"results":"17","hashOfConfig":"13"},{"size":151,"mtime":1609748822372,"results":"18","hashOfConfig":"13"},{"size":1863,"mtime":1611052048264,"results":"19","hashOfConfig":"13"},{"size":576,"mtime":1610216367638,"results":"20","hashOfConfig":"13"},{"size":2175,"mtime":1610986277994,"results":"21","hashOfConfig":"13"},{"size":179,"mtime":1610778761520,"results":"22","hashOfConfig":"13"},{"size":220,"mtime":1610778986018,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1ozndiq",{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"/home/amit/OnShop/client/src/index.js",[],["48","49"],"/home/amit/OnShop/client/src/App.js",["50"],"/home/amit/OnShop/client/src/reportWebVitals.js",[],"/home/amit/OnShop/client/src/Components/Auth/Login.js",[],"/home/amit/OnShop/client/src/Components/Auth/Register.js",[],"/home/amit/OnShop/client/src/Components/Home/Home.js",[],"/home/amit/OnShop/client/src/Components/Header/Header.js",[],"/home/amit/OnShop/client/src/firebase.js",[],"/home/amit/OnShop/client/src/Components/Auth/RegisterComplete.js",["51"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\n\nconst RegisterComplete = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  useEffect(() => {\n    setEmail(window.localStorage.getItem(\"emailForRegistration\"));\n  }, []);\n\n  const handleSubmit = async (e) => {\n    //   handle submit\n    e.preventDefault();\n    // email and password validation.\n    if (!email || !password) {\n      toast.error(\"Email and Password is required\");\n      return;\n    }\n    if (password.length < 6) {\n      toast.error(\"Password must be at least 6 character long\");\n      return;\n    }\n\n    // signIn with firebase  email link\n    try {\n      const result = await auth.signInWithEmailLink(\n        email,\n        window.location.href\n      );\n\n      if (result.user.emailVerified) {\n        // Remove user email from local storage\n        window.localStorage.removeItem(\"emailForRegistration\");\n        // get user Id token\n        let user = auth.currentUser;\n        await user.updatePassword(password);\n        const idTokenResult = await user.getIdTokenResult(); // get the current login user\n        // redux\n\n        // redirect\n        history.push(\"/\");\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n    }\n  };\n\n  const completeRegisterForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input type=\"email\" className=\"form-control\" value={email} disabled />\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder=\"Password\"\n        autoFocus\n      />\n      <br />\n      <button type=\"submit\" className=\"btn btn-raised\">\n        Complete Register\n      </button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      {/* padding = 5 */}\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4> Continue Register</h4>\n          {completeRegisterForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterComplete;\n","/home/amit/OnShop/client/src/reducers/index.js",[],"/home/amit/OnShop/client/src/reducers/userReducer.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":39,"column":6,"nodeType":"58","endLine":39,"endColumn":8,"suggestions":"59"},{"ruleId":"60","severity":1,"message":"61","line":39,"column":15,"nodeType":"62","messageId":"63","endLine":39,"endColumn":28},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["66"],"no-unused-vars","'idTokenResult' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},"Update the dependencies array to be: [dispatch]",{"range":"69","text":"70"},[1195,1197],"[dispatch]"]